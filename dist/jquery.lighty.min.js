/*! jq Lighty - v0.0.1 - 2012-05-18
* Copyright (c) 2012 Andreas Hultgren; Licensed MIT */
(function(a){var b={baseZ:5,bgColor:"rgba(0,0,0,0.85)",data:function(){return{jsonposts:1}},prefix:"lighty-",itemTemplate:function(a){var b='<img src="'+a[0].the_post_thumbnail[0]+'" />'+'<p class="desc">'+a[0].the_excerpt+"</p>";return b}},c,d,e=function(){var e=a(this);return c.show(),d.append('<div class="lighty-waiter"></div>').show(),a.ajax({url:e.attr("href"),data:b.data.call(e),dataType:"json",error:function(a,b){console.log(a,b)},success:function(a){d.empty().append(b.itemTemplate.call(this,a))}}),this},f=function(){c.hide(),d.hide().empty()},g={init:function(g){return a.extend(b,g),c=a(document.createElement("div")).attr("id",b.prefix+"bg").css({background:b.bgColor,position:"fixed",top:0,left:0,right:0,bottom:0,"z-index":b.baseZ}).hide().appendTo("body"),d=a(document.createElement("div")).attr("id",b.prefix+"container").css({position:"absolute","z-index":b.baseZ+1}).hide().appendTo("body"),c.click(function(){f()}),this.each(function(){a(this).click(function(a){a.preventDefault(),e.call(this)})})}};a.fn.lighty=function(b){if(g[b])return g[b].apply(this,Array.prototype.slice.call(arguments,1));if(typeof b=="object"||!b)return g.init.apply(this,arguments);a.error("Method "+b+" does not exist on jQuery.lighty")}})(jQuery);